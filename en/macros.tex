%% Define macros


% References
\newcommand{\refandpage}[1]{\ref{#1} on page~\pageref{#1}}
\newcommand{\seeref}[1]{See~\emph{\nameref{#1}} on page~\pageref{#1}}
\newcommand{\footnoteref}[1]{\footnote{\seeref{#1}.}}

\usepackage{mdframed}

% Info box
\newenvironment{infoenv}
  {\par\begin{mdframed}[linewidth=1pt,linecolor=red]%
    \begin{minipage}{0.15\textwidth}
    \includegraphics[width=10px]{../images/bulb.pdf}
    \end{minipage}
    \begin{minipage}{0.85\textwidth}}
  {\end{minipage}\end{mdframed}\par}

% wrapper
\newcommand{\info}[1]{\begin{infoenv}#1\end{infoenv}}


% Quotes

\renewcommand{\epigraphsize}{\footnotesize}
%\setlength{\epigraphwidth}{0.7\linewidth}
\newcommand{\chquote}[3]{\epigraph{#1}{\textit{#2}\\ \textsc{#3}}}


%% minted

% minted environments

\newenvironment{myminted}[2][]
{\VerbatimEnvironment
\begin{minted}[fontsize=\footnotesize,bgcolor=bg,#1]{#2}}
{\end{minted}}

\newenvironment{bash}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{bash}}
{\end{myminted}}

\newenvironment{augtoolsh}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{augtool-shell}}
{\end{myminted}}

\newenvironment{augtool}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{augtool}}
{\end{myminted}}

\newenvironment{augeas}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{augeas}}
{\end{myminted}}

\newenvironment{console}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{console}}
{\end{myminted}}

\newenvironment{puppet-augeas}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{puppet-augeas}}
{\end{myminted}}

\newenvironment{python}[1][]
{\VerbatimEnvironment
\begin{myminted}[#1]{python}}
{\end{myminted}}


% minted commands

\newcommand{\mymint}[3][]{\mint[fontsize=\footnotesize,bgcolor=bg,#1]{#2}#3}
\newcommand{\bashcode}[2][]{\mymint[#1]{bash}#2}
\newcommand{\consolecode}[2][]{\mymint[#1]{console}#2}
\newcommand{\augtoolshcode}[2][]{\mymint[#1]{augtool-shell}#2}
\newcommand{\augtoolcode}[2][]{\mymint[#1]{augtool}#2}
\newcommand{\augeascode}[2][]{\mymint[#1]{augeas}#2}
\newcommand{\pythoncode}[2][]{\mymint[#1]{python}#2}

% inputminted

\newcommand{\myinputminted}[3][]{\inputminted[fontsize=\footnotesize,bgcolor=bg,#1]{#2}{../listings/#3}}



